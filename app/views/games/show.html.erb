
<head>
<link rel="stylesheet" type="text/css" href="bootstrap.css">
<link rel="stylesheet" type="text/css" href="games.css.scss">
<link href='http://fonts.googleapis.com/css?family=Dosis:300|Permanent+Marker' rel='stylesheet' type='text/css'>
<!-- 
font-family: 'Dosis', sans-serif;
font-family: 'Permanent Marker', cursive; -->
</head>


<body class="background">

<h1 class="connect_four_title"> CONNECT FOUR WITH FRIENDS </h1> 

<div class="logout_stuff">
<% if user_signed_in? %>
  Logged in as <strong><%= current_user.email %></strong>.
<!--   <%= link_to 'Edit profile', edit_user_registration_path, :class => 'navbar-link' %> | -->
  <%= link_to "Logout", destroy_user_session_path, method: :delete, :class => 'navbar-link'  %>
<% else %>
  <%= link_to "Sign up", new_user_registration_path, :class => 'navbar-link'  %> |
  <%= link_to "Login", new_user_session_path, :class => 'navbar-link'  %>
<% end %></div>


<p id="notice"><%= notice %></p>

<img class="game_board" src="/board.png">

<% @board = @game.spaces %>

<div class="board_column_one">
  <div class="board_row_one">
    <% if @board[1][1] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[1][1] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_two">
    <% if @board[1][2] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[1][2] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_three">
    <% if @board[1][3] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[1][3] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_four">
    <% if @board[1][4] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[1][4] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_five">
  <% if @board[1][5] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[1][5] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_six">
    <% if @board[1][6] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[1][6] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
</div>

<div class="board_column_two">
  <div class="board_row_one">
    <% if @board[2][1] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[2][1] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_two">
    <% if @board[2][2] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[2][2] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_three">
    <% if @board[2][3] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[2][3] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_four">
    <% if @board[2][4] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[2][4] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_five">
    <% if @board[2][5] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[2][5] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_six">
    <% if @board[2][6] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[2][6] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
</div>

<div class="board_column_three">
  <div class="board_row_one">
    <% if @board[3][1] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[3][1] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_two">
    <% if @board[3][2] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[3][2] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_three">
    <% if @board[3][3] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[3][3] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_four">
    <% if @board[3][4] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[3][4] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_five">
    <% if @board[3][5] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[3][5] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_six">
    <% if @board[3][6] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[3][6] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
</div>

<div class="board_column_four">
  <div class="board_row_one">
    <% if @board[4][1] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[4][1] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_two">
    <% if @board[4][2] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[4][2] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_three">
    <% if @board[4][3] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[4][3] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_four">
    <% if @board[4][4] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[4][4] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_five">
    <% if @board[4][5] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[4][5] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_six">
  <% if @board[4][6] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[4][6] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  </div>
</div>

<div class="board_column_five">
  <div class="board_row_one">
    <% if @board[5][1] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[5][1] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_two">
    <% if @board[5][2] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[5][2] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_three">
    <% if @board[5][3] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[5][3] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_four">
    <% if @board[5][4] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[5][4] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_five">
    <% if @board[5][5] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[5][5] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_six">
    <% if @board[5][6] == "X" %>
      <div class="board_row_six red_token"></div>
    <% elsif @board[5][6] == "*" %>
      <div class="board_row_six black_token"></div>
    <% end %></div>
  </div>
</div>

<div class="board_column_six">
  <div class="board_row_one">
    <% if @board[6][1] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[6][1] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_two">
    <% if @board[6][2] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[6][2] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_three">
    <% if @board[6][3] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[6][3] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_four">
    <% if @board[6][4] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[6][4] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_five">
    <% if @board[6][5] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[6][5] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_six">
    <% if @board[6][6] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[6][6] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  </div>
</div>

<div class="board_column_seven">
  <div class="board_row_one">
<% if @board[7][1] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[7][1] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_two">
<% if @board[7][2] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[7][2] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_three">
<% if @board[7][3] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[7][3] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_four">
  <% if @board[7][4] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[7][4] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_five">
  <% if @board[7][5] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[7][5] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>
  <div class="board_row_six">
    <% if @board[7][6] == "X" %>
    <div class="board_row_six red_token"></div>
    <% elsif @board[7][6] == "*" %>
    <div class="board_row_six black_token"></div>
    <% end %></div>


<% if current_user.id == @game.whos_turn %>

<div class="show_message">
  <% if current_user.id == @game.user1_id %>
    <h3> YOU ARE RED. CHOOSE COLUMN TO PLACE YOUR TOKEN </h3> 
  <% elsif current_user.id == @game.user2_id %>
    <h3> YOU ARE BLACK. CHOOSE COLUMN TO PLACE YOUR TOKEN </h3>
  <% end %>

  <%= form_tag(game_path(@game), :method => "put") do %>
  <input type='hidden' value="1" name='column'/>
  <button type="submit">Column 1</button> 
  <% end %>
  <%= form_tag(game_path(@game), :method => "put") do %>
  <input type='hidden' value="2" name='column'/>
  <button type="submit">Column 2</button> 
  <% end %>
  <%= form_tag(game_path(@game), :method => "put") do %>
  <input type='hidden' value="3" name='column'/>
  <button type="submit">Column 3</button> 
  <% end %>
  <%= form_tag(game_path(@game), :method => "put") do %>
  <input type='hidden' value="4" name='column'/>
  <button type="submit">Column 4</button> 
  <% end %>
  <%= form_tag(game_path(@game), :method => "put") do %>
  <input type='hidden' value="5" name='column'/>
  <button type="submit">Column 5</button> 
  <% end %>
  <%= form_tag(game_path(@game), :method => "put") do %>
  <input type='hidden' value="6" name='column'/>
  <button type="submit">Column 6</button> 
  <% end %>
  <%= form_tag(game_path(@game), :method => "put") do %>
  <input type='hidden' value="7" name='column'/>
  <button type="submit">Column 7</button> 
  <% end %></div>

  <% else %>

  <h3 class="show_waiting"> Waiting for your opponent to make a move </h3>

<% end %>

<div class="show_back_button">
<%= link_to 'Back', games_path %>
</div>

</body>

